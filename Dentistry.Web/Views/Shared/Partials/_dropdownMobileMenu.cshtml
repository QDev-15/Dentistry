@using Dentistry.ViewModels.Catalog.Categories
@using Dentistry.ViewModels.Enums
@model List<CategoryVm>

@foreach (var (item, index) in Model.Select((item, index) => (item, index)))
{
    if (item.ChildCategories.Any())
    {
        <li class="nav-item has-child list-group-item d-flex justify-content-between align-items-center">
            <a class="nav-link menu-link" dropdown-toggle asp-area="" asp-controller="Category" asp-action="Detail" asp-route-danhmuc="@item.Type.GetAliasDisplayName()" asp-route-alias="@item.Alias">
                <span>
                    @item.Name
                </span>
            </a>
            <span class="expand-btn" data-bs-toggle="collapse" href="#collapseItem1" aria-expanded="false" aria-controls="collapseItem1">
                <i class="fas fa-chevron-down"></i>
            </span>
        </li>
        <ul id="collapseItem1" class="collapse expandable-list">
            @foreach (var child in item.ChildCategories)
            {
                <li class="nav-item list-group-item d-flex justify-content-between align-items-center">
                    <a class="nav-link menu-link" asp-area="" asp-controller="Category" asp-action="Detail" asp-route-danhmuc="@item.Type.GetAliasDisplayName()" asp-route-alias="@child.Alias">@child.Name</a>
                </li>
            }
        </ul>
    }
    else
    {
        <li class="nav-item list-group-item d-flex justify-content-between align-items-center">
            <a class="nav-link menu-link" role="button" asp-area="" asp-controller="Category" asp-action="Detail" asp-route-danhmuc="@item.Type.GetAliasDisplayName()" asp-route-alias="@item.Alias">
                <span>
                    @item.Name
                </span>
            </a>
        </li>
    }
}


